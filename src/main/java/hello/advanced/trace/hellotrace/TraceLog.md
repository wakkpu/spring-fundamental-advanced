### 요구사항
1. 모든 public 메서드의 호출과 응답 정보를 로그로 출력
2. 애플리케이션의 흐름을 변경하면 안됨 
   + 로그를 남긴다고 해서 비즈니스 로직의 동작에 영향을 주면 안됨
3. 메서드 호출에 걸린 시간을 기록
4. 정상 흐름과 예외 흐름 구분 
   + 예외 발생 시 예외 정보가 남아야 함
5. 메서드 호출의 깊이 표현
6. HTTP 요청을 구분 
   + HTTP 요청 단위로 특정 ID를 남겨서 어떤 HTTP 요청에서 시작된 것인지 구분이 가능해야 함 
   + 트랜잭션 ID(DB 트랜잭션 X, 하나의 HTTP 요청이 시작해서 끝날 때까지의 단위를 의미)

---

V1을 통해 1~4번의 요구사항을 만족했다.

아직 5, 6번 요구사항을 만족시키지 못했는데, 이를 위해서는 현재 로그의 상태가 다음 단계로 전해져야 한다.
즉, 로그에 대한 문맥(context)이 필요하다.

또한, 공통 로직인 로그를 남기는 것에 공수가 많이 드는데, 이 역시 AOP 등을 통해 해결할 수 있을 것 같다.

---

V2를 통해 모든 요구사항을 만족할 수 있었다.

하지만 TraceId의 동기화를 위해 비즈니스 로직과 상관없는 파라미터를 계속해서 넘겨줘야 하는 불편함이 있다.
- 인터페이스라면 인터페이스의 모든 메서드에 파라미터를 추가하도록 수정해야 한다.

첫 번째 depth에선 begin을 사용하고, 두 번째 depth부터는 beginSync를 사용한다.
- 만약 컨트롤러를 통해 서비스를 호출하는 것이 아니라, 다른 곳에서 서비스부터 호출하는 상황이라면 넘겨줄 TraceId가 없다

HTTP 요청을 구분하고 depth를 표현하기 위해 TraceId를 파라미터로 넘기는 것 외에 방법이 없을까?